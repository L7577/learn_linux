# 文件系统-基本命令
参考：[linux命令大全](https://www.runoob.com/linux/linux-command-manual.html)
## 文件管理
命令导航
- [cat](#cat)  
- [chmod](#chmod)
- [chown](#chown)
- [cut](#cut)
- [diff](#diff)
- [find](#find)
- [ln](#ln)
- [less](#less)
- [more](#more)
- [mv](#mv)
- [rm](#rm)
- [touch](#touch)
- [cp](#cp)
- [whereis](#whereis)
- [scp](#scp)
- [awk](#awk)

### cat
用于连接文件并打印到标准输出设备上
```
cat [-AbeEnstTuv]  [--help]  [--version] fileName
```
> **-n 或 --number**：由 1 开始对所有输出的行数编号。
>**-b 或 --number-nonblank**：和 -n 相似，只不过对于空白行不编号。
>**-s 或 --squeeze-blank**：当遇到有连续两行以上的空白行，就代换为一行的空白行。
>**-v 或 --show-nonprinting**：使用 ^ 和 M- 符号，除了 LFD 和 TAB 之外。
>**-E 或 --show-ends** : 在每行结束处显示 $。
>**-T 或 --show-tabs**: 将 TAB 字符显示为 ^I。
>**-A, --show-all**：等价于 -vET。
>**-e：**等价于"-vE"选项；
>**-t：**等价于"-vT"选项；

eg：
```
cat file1
#打印file1的内容到当前输出设备
cat file1 > file2
#打印file1的内容到file2中

```

### chmod
控制文件的使用权
```
chmod [-cfvR]  [--help]  [--version] mode file...
```
> 参数说明
> mode : 权限设定字串，格式如下 :
> `[ugoa...][[+-=][rwxX]...][,...]`
>  -   u 表示该文件的拥有者，g 表示与该文件的拥有者属于同一个群体(group)者，o 表示其他以外的人，a 表示这三者皆是。
>   -  `+`  表示增加权限、- 表示取消权限、= 表示唯一设定权限。
>  -   r 表示可读取，w 表示可写入，x 表示可执行，X 表示只有当该文件是个子目录或者该文件已经被设定过为可执行
>  -   -c : 若该文件权限确实已经更改，才显示其更改动作
>  -   -f : 若该文件权限无法被更改也不要显示错误讯息
>  -   -v : 显示权限变更的详细资料
>  -   -R : 对目前目录下的所有文件与子目录进行相同的权限变更(即以递回的方式逐个变更)
> -  --help : 显示辅助说明
> -   --version : 显示版本

eg:
```
chmod a+r file1.txt
#将file1.txt设置为所有人可读取
chmod 777 file
#777表示所有人可读可写可执行
```
> 可读r=4
> 可写w=2
> 可执行x=1

### chown
用 chown 将指定文件的拥有者改为指定的用户或组
```
chown [-cfhvR]  [--help]  [--version] user[:group] file...
```
> -   user : 新的文件拥有者的使用者 ID
> -   group : 新的文件拥有者的使用者组(group)
> -   -c : 显示更改的部分的信息
> -   -f : 忽略错误信息
> -   -h :修复符号链接
> -   -v : 显示详细的处理信息
> -   -R : 处理指定目录以及其子目录下的所有文件
> -   --help : 显示辅助说明
> -   --version : 显示版本

eg:
```
chown root:root file.txt
# 将file.txt拥有者设为root
```
### cut
用于显示每行从开头算起 行数1 到 行数2 的内容。
```
cut [-bn]  [file] 
cut [-c]  [file] 
cut [-df]  [file]
```
> cut 命令从文件的每一行剪切字节、字符和字段并将这些字节、字符和字段写至标准输出。
> -   -b ：以字节为单位进行分割。这些字节位置将忽略多字节字符边界，除非也指定了 -n 标志。
>-   -c ：以字符为单位进行分割。
>-   -d ：自定义分隔符，默认为制表符。
>-   -f ：与-d一起使用，指定显示哪个区域。
>-   -n ：取消分割多字节字符。仅和 -b 标志一起使用。如果字符的最后一个字节落在由 
> -  -b 标志的 List 参数指示的  范围之内，该字符将被写出；否则，该字符将被排除

eg:
```
cat -n 1-15 -b 2 file.txt
# 显示file.txt的第1到15行的第二个字符！
```

### diff
用于比较文件之间的差异
```
diff [-abBcdefHilnNpPqrstTuvwy][-<行数>][-C <行数>][-D <巨集名称>][-I <字符或字符串>][-S <文件>][-W <宽度>][-x <文件或目录>][-X <文件>][--help][--left-column][--suppress-common-line][文件或目录1][文件或目录2]
```
>-   -<行数> 　指定要显示多少行的文本。此参数必须与-c或-u参数一并使用。
>- -a或--text 　diff预设只会逐行比较文本文件。
>- -b或--ignore-space-change 　不检查空格字符的不同。
>-  -B或--ignore-blank-lines 　不检查空白行。
>-  -c 　显示全部内文，并标出不同之处
>- -C<行数>或--context<行数> 　与执行"-c-<行数>"指令相同。
>- -d或--minimal 　使用不同的演算法，以较小的单位来做比较。
>-  -D<巨集名称>或ifdef<巨集名称> 　此参数的输出格式可用于前置处理器巨集。
>- -e或--ed 　此参数的输出格式可用于ed的script文件。
>- -f或-forward-ed 　输出的格式类似ed的script文件，但按照原来文件的顺序来显示不同处。
>- -H或--speed-large-files 　比较大文件时，可加快速度。
>-   -l<字符或字符串>或--ignore-matching-lines<字符或字符串> 　若两个文件在某几行有所不同，而这几行同时都包含了选项中指定的字符或字符串，则不显示这两个文件的差异。
>-   -i或--ignore-case 　不检查大小写的不同。
>-   -l或--paginate 　将结果交由pr程序来分页。
>-   -n或--rcs 　将比较结果以RCS的格式来显示。
>-   -N或--new-file 　在比较目录时，若文件A仅出现在某个目录中，预设会显示：-   Only in目录：文件A若使用-N参数，则diff会将文件A与一个空白的文件比较。
>-   -p 　若比较的文件为C语言的程序码文件时，显示差异所在的函数名称。
>-   -P或--unidirectional-new-file 　与-N类似，但只有当第二个目录包含了一个第一个目录所没有的文件时，才会将这个文件与空白的文件做比较。
>-   -q或--brief 　仅显示有无差异，不显示详细的信息。
>-   -r或--recursive 　比较子目录中的文件。
>-   -s或--report-identical-files 　若没有发现任何差异，仍然显示信息。
>-   -S<文件>或--starting-file<文件> 　在比较目录时，从指定的文件开始比较。
>-   -t或--expand-tabs 　在输出时，将tab字符展开。
>-   -T或--initial-tab 　在每行前面加上tab字符以便对齐。
>-   -u,-U<列数>或--unified=<列数> 　以合并的方式来显示文件内容的不同。
>-   -v或--version 　显示版本信息。
>-   -w或--ignore-all-space 　忽略全部的空格字符。
>-   -W<宽度>或--width<宽度> 　在使用-y参数时，指定栏宽。
>-   -x<文件名或目录>或--exclude<文件名或目录> 　不比较选项中所指定的文件或目录。
>-   -X<文件>或--exclude-from<文件> 　您可以将文件或目录类型存成文本文件，然后在=<文件>中指定此文本文件。
>-   -y或--side-by-side 　以并列的方式显示文件的异同之处。
>-   --help 　显示帮助。
>-   --left-column 　在使用-y参数时，若两个文件某一行内容相同，则仅在左侧的栏位显示该行内容。
>-   --suppress-common-lines 　在使用-y参数时，仅显示不同之处。

eg：
```
diff file1 file2
# 比较文件file1和file2的内容
# 输出2c2表示第二行内容不同，输出12,13,14d11，表示第一个文件比第二个文件多出了12，13，14行！
```
>-     "|"表示前后2个文件内容有不同
>-   "<"表示后面文件比前面文件少了1行内
>-   ">"表示后面文件比前面文件多了1行内容

### find
用来在指定目录下查找文件
```
find   path -option [  -print  ]  [  -exec  -ok   command ]  {} \;
```
> - mount, -xdev : 只检查和指定目录在同一个文件系统下的文件，避免列出其它文件系统中的文件
> - amin n : 在过去 n 分钟内被读取过
> - anewer file : 比文件 file 更晚被读取过的文件
> - atime n : 在过去n天内被读取过的文件
> - cmin n : 在过去 n 分钟内被修改过
> - cnewer file :比文件 file 更新的文件
> - time n : 在过去n天内被修改过的文件
> - empty : 空的文件-gid n or -group name : gid 是 n 或是 group 名称是 name
> - ipath p, -path p : 路径名称符合 p 的文件，ipath 会忽略大小写
> - name name, -iname name : 文件名称符合 name 的文件。iname 会忽略大小写
> - size n : 文件大小 是 n 单位，b 代表 512 位元组的区块，c 表示字元数，k 表示 kilo bytes，w 是二个位元组。
> - type c : 文件类型是 c 的文件。
d: 目录
c: 字型装置文件
b: 区块装置文件
p: 具名贮列
f: 一般文件
l: 符号连结
s: socket
>- pid n : process id 是 n 的文件
>- 使用 ( ) 将运算式分隔，并使用下列运算
>- exp1 -and exp2
>- ! expr-not expr
>- exp1 -or exp2
>- exp1, exp2

eg:
```
find ./ -name "*.c"
#将当前目录下所有.c文件找出来
```
```
find /log -type f -mtime +7 -ok rm {} \;
#寻找在/log 目录下更改时间在7天前的普通文件，在删除之前询问
```

### ln
是为某一个文件在另外一个位置建立一个同步的链接。
> Linux文件系统中，有所谓的链接(link)，我们可以将其视为档案的别名，而链接又可分为两种 : 硬链接(hard link)与软链接(symbolic link)，硬链接的意思是一个档案可以有多个名称，而软链接的方式则是产生一个特殊的档案，该档案的内容是指向另一个档案的位置。硬链接是存在同一个文件系统中，而软链接却可以跨越不同的文件系统。
不论是硬链接或软链接都不会将原本的档案复制一份，只会占用非常少量的磁碟空间。

**软链接**
>-   1.软链接，以路径的形式存在。类似于Windows操作系统中的快捷方式
> -   2.软链接可以 跨文件系统 ，硬链接不可以
>-   3.软链接可以对一个不存在的文件名进行链接
>-   4.软链接可以对目录进行链接

**硬链接**
>-   1.硬链接，以文件副本的形式存在。但不占用实际空间.
>-   2.不允许给目录创建硬链接
>-   3.硬链接只有在同一个文件系统中才能创建

>**必要参数**：
>-   -b 删除，覆盖以前建立的链接
>-   -d 允许超级用户制作目录的硬链接
>-   -f 强制执行
>-   -i 交互模式，文件存在则提示用户是否覆盖
>-   -n 把符号链接视为一般目录
>-   -s 软链接(符号链接)
>-   -v 显示详细的处理过程

**选择参数**：
>-   -S "-S<字尾备份字符串> "或 "--suffix=<字尾备份字符串>"
>-   -V "-V<备份方式>"或"--version-control=<备份方式>"
>-   --help 显示帮助信息
> -  --version 显示版本信息

eg:
```
ln /usr/local/cuda10.0 /usr/local/cuda
#创建cuda库链接
```

### less
less 与 more 类似，但使用 less 可以随意浏览文件，而 more 仅能向前移动，却不能向后移动，而且 less 在查看之前不会加载整个文件。
```
less [参数] file
```
>-   -b <缓冲区大小> 设置缓冲区的大小
>-   -e 当文件显示结束后，自动离开
>-   -f 强迫打开特殊文件，例如外围设备代号、目录和二进制文件
>-   -g 只标志最后搜索的关键词
>-   -i 忽略搜索时的大小写
>-   -m 显示类似more命令的百分比
>-   -N 显示每行的行号
>-   -o <文件名> 将less 输出的内容在指定文件中保存起来
>-   -Q 不使用警告音
>-   -s 显示连续空行为一行
>-   -S 行过长时间将超出部分舍弃
>-   -x <数字> 将"tab"键显示为规定的数字空格
>-   /字符串：向下搜索"字符串"的功能
>-   ?字符串：向上搜索"字符串"的功能
>-   n：重复前一个搜索（与 / 或 ? 有关）
>-   N：反向重复前一个搜索（与 / 或 ? 有关）
>-   b 向上翻一页
>-   d 向后翻半页
>-   h 显示帮助界面
>-   Q 退出less 命令
>-   u 向前滚动半页
>-   y 向前滚动一行
>-   空格键 滚动一页
>-   回车键 滚动一行
>-   [pagedown]： 向下翻动一页
>-   [pageup]： 向上翻动一页

eg:
```
less file.txt
# 查看file.txt
```
>1.全屏导航
>-   ctrl + F - 向前移动一屏
>-   ctrl + B - 向后移动一屏
>-   ctrl + D - 向前移动半屏
>-   ctrl + U - 向后移动半屏

>2.单行导航
>-   j - 向前移动一行
>-   k - 向后移动一行

>3.其它导航
>-   G - 移动到最后一行
>-   g - 移动到第一行
>-   q / ZZ - 退出 less 命令

>4.其它有用的命令
>-   v - 使用配置的编辑器编辑当前文件
>-   h - 显示 less 的帮助文档
>-   &pattern - 仅显示匹配模式的行，而不是整个文件

>5.标记导航
当使用 less 查看大文件时，可以在任何一个位置作标记，可以通过命令导航到标有特定标记的文本位置：
>-   ma - 使用 a 标记文本的当前位置
>-   'a - 导航到标记 a 处

### more
类似 cat ，不过会以一页一页的形式显示，更方便使用者逐页阅读，而最基本的指令就是按空白键（space）就往下一页显示，按 b 键就会往回（back）一页显示，而且还有搜寻字串的功能（与 vi 相似），使用中的说明文件，请按 h 。
```
more [-dlfpcsu] [-num] [+/pattern] [+linenum] [fileNames..]
```
>-   -num 一次显示的行数
>-   -d 提示使用者，在画面下方显示 [Press space to continue, 'q' to quit.] ，如果使用者按错键，则会显示 [Press 'h' for instructions.] 而不是 '哔' 声
>-   -l 取消遇见特殊字元 ^L（送纸字元）时会暂停的功能
>-   -f 计算行数时，以实际上的行数，而非自动换行过后的行数（有些单行字数太长的会被扩展为两行或两行以上）
>-   -p 不以卷动的方式显示每一页，而是先清除萤幕后再显示内容
>-   -c 跟 -p 相似，不同的是先显示内容再清除其他旧资料
>-   -s 当遇到有连续两行以上的空白行，就代换为一行的空白行
>-   -u 不显示下引号 （根据环境变数 TERM 指定的 terminal 而有所不同）
>-   +/pattern 在每个文档显示前搜寻该字串（pattern），然后从该字串之后开始显示
>-   +num 从第 num 行开始显示
>-   fileNames 欲显示内容的文档，可为复数个数

eg:
```
more +20 file.txt
#从20行开始显示file.txt
```
>-   Enter 向下n行，需要定义。默认为1行
>-   Ctrl+F 向下滚动一屏
>-   空格键 向下滚动一屏
>-   Ctrl+B 返回上一屏
>-   = 输出当前行的行号
>-   ：f 输出文件名和当前行的行号
>-   V 调用vi编辑器
>-   !命令 调用Shell，并执行命令
>-   q 退出more

### mv
为文件或目录改名、或将文件或目录移入其它位置。
```
mv [options] source dest
mv [options] source... directory
```
>-   -i: 若指定目录已有同名文件，则先询问是否覆盖旧文件;
>-   -f: 在 mv 操作要覆盖某已有的目标文件时不给任何指示;

|	命令		|	效果			|
|-------|----|
|mv 文件名 文件名 | 改名|
|mv 文件名  目录名| 移动文件|
|mv 目录名 目录名| 移动。若不存在，则为改名|
|mv 目录名 文件名| error|

eg:
```
mv file1.txt file2.md
#将文件file1.txt 改为file.md
```
### rm 
用于删除一个文件或者目录
```
rm [options] filename
```
>-   -i 删除前逐一询问确认。
>-   -f 即使原档案属性设为唯读，亦直接删除，无需逐一确认。
>-   -r 将目录及以下之档案亦逐一删除。

eg:
```
rm  file.txt
```
**此命令有点危险，谨慎使用，使用前请`ls -l`一下**

### touch
用于修改文件或者目录的时间属性，包括存取时间和更改时间。若文件不存在，系统会建立一个新的文件。
```
touch [-acfm][-d<日期时间>][-r<参考文件或目录>]  [-t<日期时间>][--help][--version][文件或目录…]
```
>-   a 改变档案的读取时间记录。
>-   m 改变档案的修改时间记录。
>-   c 假如目的档案不存在，不会建立新的档案。与 --no-create 的效果一样。
>-   f 不使用，是为了与其他 unix 系统的相容性而保留。
>-   r 使用参考档的时间记录，与 --file 的效果一样。
>-   d 设定时间与日期，可以使用各种不同的格式。
>-   t 设定档案的时间记录，格式与 date 指令相同。
>-   --no-create 不会建立新档案。
>-   --help 列出指令格式。
>-   --version 列出版本讯息。

```
touch file.txt
#新建一个file.txt
```

### cp
主要用于复制文件或目录。
```
cp [options] 源文件  复制文件
```
>-   -a：此选项通常在复制目录时使用，它保留链接、文件属性，并复制目录下的所有内容。其作用等于dpR参数组合。
>-   -d：复制时保留链接。这里所说的链接相当于Windows系统中的快捷方式。
>-   -f：覆盖已经存在的目标文件而不给出提示。
>-   -i：与-f选项相反，在覆盖目标文件之前给出提示，要求用户确认是否覆盖，回答"y"时目标文件将被覆盖。
>-   -p：除复制文件的内容外，还把修改时间和访问权限也复制到新文件中。
>-   -r：若给出的源文件是一个目录文件，此时将复制该目录下所有的子目录和文件。
>-   -l：不复制文件，只是生成链接文件。
```
cp file1 file2
# 赋值file1并命令为file2
```

### whereis
用于查找文件路径
该指令会在特定目录中查找符合条件的文件。这些文件应属于原始代码、二进制文件，或是帮助文件。
该指令只能用于查找二进制文件、源代码文件和man手册页，一般文件的定位需使用locate命令。
```
whereis [-bfmsu][-B <目录>...][-M <目录>...][-S <目录>...][文件...]
```
>-   -b 　只查找二进制文件。
>-   -B<目录> 　只在设置的目录下查找二进制文件。
>-   -f 　不显示文件名前的路径名称。
>-   -m 　只查找说明文件。
>-   -M<目录> 　只在设置的目录下查找说明文件。
>-   -s 　只查找原始代码文件。
>-   -S<目录> 　只在设置的目录下查找原始代码文件。
>-   -u 　查找不包含指定类型的文件。

```
whereis python
#查找python路径
```

### scp
用于 Linux 之间复制文件和目录。
scp 是 secure copy 的缩写, scp 是 linux 系统下基于 ssh 登陆进行安全的远程文件拷贝命令。
scp 是加密的，[rcp](https://www.runoob.com/linux/linux-comm-rcp.html)  是不加密的，scp 是 rcp 的加强版。
```
scp [-1246BCpqrv]  [-c cipher]  [-F ssh_config]  [-i identity_file]  [-l limit]  [-o ssh_option]  [-P port]  [-S program]  [[user@]host1:]file1 [...]  [[user@]host2:]file2
#或者
scp [options] file_source file_target
```
>-   -1： 强制scp命令使用协议ssh1
>-   -2： 强制scp命令使用协议ssh2
>-   -4： 强制scp命令只使用IPv4寻址
>-   -6： 强制scp命令只使用IPv6寻址
>-   -B： 使用批处理模式（传输过程中不询问传输口令或短语）
>-   -C： 允许压缩。（将-C标志传递给ssh，从而打开压缩功能）
>-   -p：保留原文件的修改时间，访问时间和访问权限。
>-   -q： 不显示传输进度条。\
>-   -r： 递归复制整个目录。
>-   -v：详细方式显示输出。scp和ssh(1)会显示出整个过程的调试信息。这些信息用于调试连接，验证和配置问题。
>-   -c cipher： 以cipher将数据传输进行加密，这个选项将直接传递给ssh。
>-   -F ssh_config： 指定一个替代的ssh配置文件，此参数直接传递给ssh。
>-   -i identity_file： 从指定文件中读取传输时使用的密钥文件，此参数直接传递给ssh。
>-   -l limit： 限定用户所能使用的带宽，以Kbit/s为单位。
>-   -o ssh_option： 如果习惯于使用ssh_config(5)中的参数传递方式，
>-   -P port：注意是大写的P, port是指定数据传输用到的端口号
>-   -S program： 指定加密传输时所使用的程序。此程序必须能够理解ssh(1)的选项。

eg:
```
scp -P 22 <user_name>@<ip地址>:/usr/local/sin.sh /home/l
```
*使用scp命令要确保使用的用户具有可读取远程服务器相应文件的权限，否则scp命令是无法起作用的。*

### awk
一种处理文本文件的语言，是一个强大的文本分析工具。
```
awk [选项参数]  'script'  var=value file(s)  或 awk [选项参数]  -f scriptfile var=value file(s)
```
>-   -F fs or --field-separator fs  指定输入文件折分隔符，fs是一个字符串或者是一个正则表达式，如-F:。
>-   -v var=value or --asign var=value  
赋值一个用户定义变量。
>-   -f scripfile or --file scriptfile  
    从脚本文件中读取awk命令。
>-   -mf nnn and -mr nnn  
    对nnn值设置内在限制，-mf选项限制分配给nnn的最大块数目；-mr选项限制记录的最大数目。这两个功能是Bell实验室版awk的扩展功能，在标准awk中不适用。
>-   -W compact or --compat, -W traditional or --traditional  
    在兼容模式下运行awk。所以gawk的行为和标准的awk完全一样，所有的awk扩展都被忽略。
>-   -W copyleft or --copyleft, -W copyright or --copyright  
    打印简短的版权信息。
>-   -W help or --help, -W usage or --usage  
    打印全部awk选项和每个选项的简短说明。
>-   -W lint or --lint  
    打印不能向传统unix平台移植的结构的警告。
>-   -W lint-old or --lint-old  
    打印关于不能向传统unix平台移植的结构的警告。
>-   -W posix  
    打开兼容模式。但有以下限制，不识别：/x、函数关键字、func、换码序列以及当fs是一个空格时，将新行作为一个域分隔符；操作符**和**=不能代替^和^=；fflush无效。
>-   -W re-interval or --re-inerval  
    允许间隔正则表达式的使用，参考(grep中的Posix字符类)，如括号表达式[[:alpha:]]。
>-   -W source program-text or --source program-text  
    使用program-text作为源代码，可与-f命令混用。
>-   -W version or --version  
    打印bug报告信息的版本。

eg:
```
awk '{print $1,$4}' file.txt
#每行按空格或TAB分割，输出文本中选定项
```
#### 运算符
|		|		  |
|----------|------|
|= += -= *= /= %= ^= **= |赋值|
?:      |C条件表达式
|`|`	|	逻辑或
&&	|	逻辑与
~ 和 !~|匹配正则表达式和不匹配正则表达式
< <= > >= != ==|关系运算符
空格|连接
`+ -`|加，减
`* / %`|乘，除与求余
`+ - !`|一元加，减和逻辑非
`^ ***`|求幂
`++ --`|增加或减少，作为前缀或后缀
$|字段引用
in|数组成员
***

#### 内建变量
|	|	|
|----|----|
|$n|当前记录的第n个字段，字段间由FS分隔|
$0|完整的输入记录
ARGC|命令行参数的数目
ARGIND|命令行中当前文件的位置(从0开始算)
ARGV|包含命令行参数的数组
CONVFMT|数字转换格式(默认值为%.6g)ENVIRON环境变量关联数组
ERRNO|最后一个系统错误的描述
FIELDWIDTHS|字段宽度列表(用空格键分隔)
FILENAME|当前文件名
FNR|各文件分别计数的行号
FS|字段分隔符(默认是任何空格)
IGNORECASE|如果为真，则进行忽略大小写的匹配
NF|一条记录的字段的数目
NR|已经读出的记录数，就是行号，从1开始
OFMT|数字的输出格式(默认值是%.6g)
OFS|输出记录分隔符（输出换行符），输出时用指定的符号代替换行符
ORS|输出记录分隔符(默认值是一个换行符)
RLENGTH|由match函数所匹配的字符串的长度
RS|记录分隔符(默认是一个换行符)
RSTART|由match函数所匹配的字符串的第一个位置
SUBSEP|数组下标分隔符(默认值是/034)
#### awk脚本
-   BEGIN{ 这里面放的是执行前的语句 }
-   END {这里面放的是处理完所有的行后要执行的语句 }
-   {这里面放的是处理每一行时要执行的语句}

**awk命令比较强大，需要认真实践学习**

## 文件编辑
命令导航
- [grep](#grep)
- [sed](#sed)

### grep
用于查找文件里符合条件的字符串。
```
grep [-abcEFGhHilLnqrsvVwxy][-A<显示列数>][-B<显示列数>][-C<显示列数>][-d<进行动作>][-e<范本样式>][-f<范本文件>][--help][范本样式][文件或目录...]
```
>-   **-a 或 --text**  : 不要忽略二进制的数据
>-   **-A<显示行数> 或 --after-context=<显示行数>**  : 除了显示符合范本样式的那一列之外，并显示该行之后的内容。
>-   **-b 或 --byte-offset**  : 在显示符合样式的那一行之前，标示出该行第一个字符的编号。
>-   **-B<显示行数> 或 --before-context=<显示行数>**  : 除了显示符合样式的那一行之外，并显示该行之前的内容。
>-   **-c 或 --count**  : 计算符合样式的列数。
>-   **-C<显示行数> 或 --context=<显示行数>或-<显示行数>**  : 除了显示符合样式的那一行之外，并显示该行之前后的内容。
>-   **-d <动作> 或 --directories=<动作>**  : 当指定要查找的是目录而非文件时，必须使用这项参数，否则grep指令将回报信息并停止动作。
>-   **-e<范本样式> 或 --regexp=<范本样式>**  : 指定字符串做为查找文件内容的样式。
>-   **-E 或 --extended-regexp**  : 将样式为延伸的正则表达式来使用。
>-   **-f<规则文件> 或 --file=<规则文件>**  : 指定规则文件，其内容含有一个或多个规则样式，让grep查找符合规则条件的文件内容，格式为每行一个规则样式。
>-   **-F 或 --fixed-regexp**  : 将样式视为固定字符串的列表。
>-   **-G 或 --basic-regexp**  : 将样式视为普通的表示法来使用
>-   **-h 或 --no-filename**  : 在显示符合样式的那一行之前，不标示该行所属的文件名称。
>-   **-H 或 --with-filename**  : 在显示符合样式的那一行之前，表示该行所属的文件名称。
>-   **-i 或 --ignore-case**  : 忽略字符大小写的差别。
>-   **-l 或 --file-with-matches**  : 列出文件内容符合指定的样式的文件名称。
>-   **-L 或 --files-without-match**  : 列出文件内容不符合指定的样式的文件名称。
>-   **-n 或 --line-number**  : 在显示符合样式的那一行之前，标示出该行的列数编号。
>-   **-o 或 --only-matching**  : 只显示匹配PATTERN 部分。
>-   **-q 或 --quiet或--silent**  : 不显示任何信息。
>-   **-r 或 --recursive**  : 此参数的效果和指定"-d recurse"参数相同。
>-   **-s 或 --no-messages**  : 不显示错误信息。
>-   **-v 或 --revert-match**  : 显示不包含匹配文本的所有行。
>-   **-V 或 --version**  : 显示版本信息。
>-   **-w 或 --word-regexp**  : 只显示全字符合的列。
>-   **-x --line-regexp**  : 只显示全列符合的列。
>-   **-y** : 此参数的效果和指定"-i"参数相同。

eg:
```
ps aux | grep python
#显示当前运行的python进程，使用grep进行过滤
```
### sed
是利用脚本来处理文本文件
```
sed [-hnV][-e<script>][-f<script文件>][文本文件]
```
>-   -e `<script>`或--expression=`<script>` 以选项中指定的script来处理输入的文本文件
>-   -f<script文件>或--file=<script文件> 以选项中指定的script文件来处理输入的文本文件。
>-   -h或--help 显示帮助
>-   -n或--quiet或--silent 仅显示script处理后的结果。
>-   -V或--version 显示版本信息。
>-   a ：新增， a 的后面可以接字串，而这些字串会在新的一行出现(目前的下一行)～
>-   c ：取代， c 的后面可以接字串，这些字串可以取代 n1,n2 之间的行！
>-   d ：删除，因为是删除啊，所以 d 后面通常不接任何咚咚；
>-   i ：插入， i 的后面可以接字串，而这些字串会在新的一行出现(目前的上一行)；
>-   p ：打印，亦即将某个选择的数据印出。通常 p 会与参数 sed -n 一起运行～
>-   s ：取代，可以直接进行取代的工作哩！通常这个 s 的动作可以搭配正规表示法！

eg:
#### 以行为单位的增、删、替换等操作
```
sed 's/要被取代的字串/新的字串/g'
```
#### 数据搜素及显示、删除、执行、替换等操作

#### 多点编辑

#### 直接修改
```
sed -i 's/\.$/\!/g' file.txt
#若是file.txt的每一行结尾为`.`就换成`!`
sed -i '$a # This is a test' file.txt
#直接在file.txt中加入‘#This is a test’
```


## 文件传输

命令导航
- [ftp](#ftp)
- [tftp](#tftp)
- [scp](#scp)

### ftp
FTP是ARPANet的标准文件传输协议，该网络就是现今Internet的前身。
```
ftp [-dignv][主机名称或IP地址]
```
>-   -d 详细显示指令执行过程，便于排错或分析程序执行的情形。
>-   -i 关闭互动模式，不询问任何问题。
>-   -g 关闭本地主机文件名称支持特殊字符的扩充特性。
>-   -n 不使用自动登陆。
>-   -v 显示指令执行过程。


### tftp
FTP让用户得以下载存放于远端主机的文件，也能将文件上传到远端主机放置。tftp是简单的文字模式ftp程序，它所使用的指令和FTP类似。
>-   connect：连接到远程tftp服务器
>-   mode：文件传输模式
>-   put：上传文件
>-   get：下载文件
>-   quit：退出
>-   verbose：显示详细的处理信息
>-   trace：显示包路径
>-   status：显示当前状态信息
>-   binary：二进制传输模式
>-   ascii：ascii 传送模式
>-   rexmt：设置包传输的超时时间
>-   timeout：设置重传的超时时间
>-   help：帮助信息
>-   ? ：帮助信息

eg:
```
$ tftp 192.168.2.89  #连接远程服务器
tftp>get file.txt
#下载file.txt
```
### scp
用于 Linux 之间复制文件和目录。
scp 是 secure copy 的缩写, scp 是 linux 系统下基于 ssh 登陆进行安全的远程文件拷贝命令。
scp 是加密的，[rcp](https://www.runoob.com/linux/linux-comm-rcp.html)  是不加密的，scp 是 rcp 的加强版。
```
scp [-1246BCpqrv]  [-c cipher]  [-F ssh_config]  [-i identity_file]  [-l limit]  [-o ssh_option]  [-P port]  [-S program]  [[user@]host1:]file1 [...]  [[user@]host2:]file2
#或者
scp [options] file_source file_target
```
>-   -1： 强制scp命令使用协议ssh1
>-   -2： 强制scp命令使用协议ssh2
>-   -4： 强制scp命令只使用IPv4寻址
>-   -6： 强制scp命令只使用IPv6寻址
>-   -B： 使用批处理模式（传输过程中不询问传输口令或短语）
>-   -C： 允许压缩。（将-C标志传递给ssh，从而打开压缩功能）
>-   -p：保留原文件的修改时间，访问时间和访问权限。
>-   -q： 不显示传输进度条。\
>-   -r： 递归复制整个目录。
>-   -v：详细方式显示输出。scp和ssh(1)会显示出整个过程的调试信息。这些信息用于调试连接，验证和配置问题。
>-   -c cipher： 以cipher将数据传输进行加密，这个选项将直接传递给ssh。
>-   -F ssh_config： 指定一个替代的ssh配置文件，此参数直接传递给ssh。
>-   -i identity_file： 从指定文件中读取传输时使用的密钥文件，此参数直接传递给ssh。
>-   -l limit： 限定用户所能使用的带宽，以Kbit/s为单位。
>-   -o ssh_option： 如果习惯于使用ssh_config(5)中的参数传递方式，
>-   -P port：注意是大写的P, port是指定数据传输用到的端口号
>-   -S program： 指定加密传输时所使用的程序。此程序必须能够理解ssh(1)的选项。

eg:
```
scp -P 22 <user_name>@<ip地址>:/usr/local/sin.sh /home/l
```
*使用scp命令要确保使用的用户具有可读取远程服务器相应文件的权限，否则scp命令是无法起作用的。*



