# 系统相关
## 系统管理
命令导航
- [data](#data)
- [exit](#exit)
- [sleep](#sleep)
- [kill](#kill)
- [ps](#ps)
- [screen](#screen)
- [shutdown](shutdown)
- [sudo](#sudo)
- [swatch](#swatch)
- [top](#top)
- [reboot](#reboot)
- [uname](#uname)
- [free](#free)

### data
date命令可以用来显示或设定系统的日期与时间，在显示方面，使用者可以设定欲显示的格式，格式设定为一个加号后接数个标记
时间方面：
-   % : 印出 %
-   %n : 下一行
-   %t : 跳格
-   %H : 小时(00..23)
-   %I : 小时(01..12)
-   %k : 小时(0..23)
-   %l : 小时(1..12)
-   %M : 分钟(00..59)
-   %p : 显示本地 AM 或 PM
-   %r : 直接显示时间 (12 小时制，格式为 hh:mm:ss [AP]M)
-   %s : 从 1970 年 1 月 1 日 00:00:00 UTC 到目前为止的秒数
-   %S : 秒(00..61)
-   %T : 直接显示时间 (24 小时制)
-   %X : 相当于 %H:%M:%S
-   %Z : 显示时区

日期方面：
-   %a : 星期几 (Sun..Sat)
-   %A : 星期几 (Sunday..Saturday)
-   %b : 月份 (Jan..Dec)
-   %B : 月份 (January..December)
-   %c : 直接显示日期与时间
-   %d : 日 (01..31)
-   %D : 直接显示日期 (mm/dd/yy)
-   %h : 同 %b
-   %j : 一年中的第几天 (001..366)
-   %m : 月份 (01..12)
-   %U : 一年中的第几周 (00..53) (以 Sunday 为一周的第一天的情形)
-   %w : 一周中的第几天 (0..6)
-   %W : 一年中的第几周 (00..53) (以 Monday 为一周的第一天的情形)
-   %x : 直接显示日期 (mm/dd/yy)
-   %y : 年份的最后两位数字 (00.99)
-   %Y : 完整年份 (0000..9999)
>若是不以加号作为开头，则表示要设定时间，而时间格式为 MMDDhhmm[[CC]YY][.ss]，其中 MM 为月份，DD 为日，hh 为小时，mm 为分钟，CC 为年份前两位数字，YY 为年份后两位数字，ss 为秒数。

```
date [-u]  [-d datestr]  [-s datestr]  [--utc]  [--universal]  [--date=datestr]  [--set=datestr]  [--help]  [--version]  [+FORMAT]  [MMDDhhmm[[CC]YY][.ss]]
```
-   -d datestr : 显示 datestr 中所设定的时间 (非系统时间)
-   --help : 显示辅助讯息
-   -s datestr : 将系统时间设为 datestr 中所设定的时间
-   -u : 显示目前的格林威治时间
-   --version : 显示版本编号

eg:
```
data
#当前时间日期
data '+%X'
#显示24小时格式
```

### exit
exit命令用于退出目前的shell。

### sleep
可以用来将目前动作延迟一段时间。
```
sleep [--help]  [--version] number[smhd]
```
-   --help : 显示辅助讯息
-   --version : 显示版本编号
-   number : 时间长度，后面可接 s、m、h 或 d
-   其中 s 为秒，m 为 分钟，h 为小时，d 为日数

### kill
kill 可将指定的信息送至程序。预设的信息为 SIGTERM(15)，可将指定程序终止。若仍无法终止该程序，可使用 SIGKILL(9) 信息尝试强制删除程序。程序或工作的编号可利用 ps 指令或 jobs 指令查看。
```
kill [-s <信息名称或编号>][程序]　或　kill [-l <信息编号>]
```
> -   -l <信息编号> 　若不加<信息编号>选项，则 -l 参数会列出全部的信息名称。
> -   -s <信息名称或编号> 　指定要送出的信息。
> -   [程序] 　[程序]可以是程序的PID或是PGID，也可以是工作编号。

常用信号值
-   -l <信息编号> 　若不加<信息编号>选项，则 -l 参数会列出全部的信息名称。
-   -s <信息名称或编号> 　指定要送出的信息。
-   [程序] 　[程序]可以是程序的PID或是PGID，也可以是工作编号。

### ps
用于显示当前进程 (process) 的状态
```
ps [options]  [--help]
```
-   ps 的参数非常多, 在此仅列出几个常用的参数并大略介绍含义
-   -A 列出所有的行程
-   -w 显示加宽可以显示较多的资讯
-   -au 显示较详细的资讯
-   -aux 显示所有包含其他使用者的行程
-   au(x) 输出格式 :
-   USER PID %CPU %MEM VSZ RSS TTY STAT START TIME COMMAND
-   USER: 行程拥有者
-   PID: pid
-   %CPU: 占用的 CPU 使用率
-   %MEM: 占用的记忆体使用率
-   VSZ: 占用的虚拟记忆体大小
-   RSS: 占用的记忆体大小
-   TTY: 终端的次要装置号码 (minor device number of tty)
- -   STAT: 该行程的状态:
-   D: 无法中断的休眠状态 (通常 IO 的进程)
-   R: 正在执行中
-   S: 静止状态
-   T: 暂停执行
-   Z: 不存在但暂时无法消除
-   W: 没有足够的记忆体分页可分配
-   <: 高优先序的行程
-   N: 低优先序的行程
-   L: 有记忆体分页分配并锁在记忆体内 (实时系统或捱A I/O)
-   START: 行程开始时间
-   TIME: 执行的时间
-   COMMAND:所执行的指令

### screen
为多重视窗管理程序。此处所谓的视窗，是指一个全屏幕的文字模式画面。通常只有在使用telnet登入主机或是使用老式的终端机时，才有可能用到screen程序。
```
screen [-AmRvx  -ls -wipe][-d <作业名称>][-h <行数>][-r <作业名称>][-s <shell>][-S <作业名称>]
```
-   -A 　将所有的视窗都调整为目前终端机的大小。
-   -d<作业名称> 　将指定的screen作业离线。
-   -h<行数> 　指定视窗的缓冲区行数。
-   -m 　即使目前已在作业中的screen作业，仍强制建立新的screen作业。
-   -r<作业名称> 　恢复离线的screen作业。
-   -R 　先试图恢复离线的作业。若找不到离线的作业，即建立新的screen作业。
-   -s<shell> 　指定建立新视窗时，所要执行的shell。
-   -S<作业名称> 　指定screen作业的名称。
-   -v 　显示版本信息。
-   -x 　恢复之前离线的screen作业。
-   -ls或--list 　显示目前所有的screen作业。
-   -wipe 　检查目前所有的screen作业，并删除已经无法使用的screen作业。
**可以使用这一命令来解决，因远程连接主机作业网络卡断，或者任务中断所带来的任务丢失问题，在使用screen之后，可以保证任务即是中断，也可之后断点继续执行**

### shutdown 
可以用来进行关机程序，并且在关机以前传送讯息给所有使用者正在执行的程序，shutdown 也可以用来重开机
```
shutdown [-t seconds]  [-rkhncfF] time [message]
```
-   -t seconds : 设定在几秒钟之后进行关机程序。
-   -k : 并不会真的关机，只是将警告讯息传送给所有使用者。
-   -r : 关机后重新开机。
-   -h : 关机后停机。
-   -n : 不采用正常程序来关机，用强迫的方式杀掉所有执行中的程序后自行关机。
-   -c : 取消目前已经进行中的关机动作。
-   -f : 关机时，不做 fcsk 动作(检查 Linux 档系统)。
-   -F : 关机时，强迫进行 fsck 动作。
-   time : 设定关机的时间。
-   message : 传送给所有使用者的警告讯息。

### sudo
sudo命令以系统管理者的身份执行指令，也就是说，经由 sudo 所执行的指令就好像是 root 亲自执行。
使用权限：在 /etc/sudoers 中有出现的使用者。

### swatch
可用来监控系统记录文件，并在发现特定的事件时，执行指定的动作。swatch所监控的事件以及对应事件的动作都存放在swatch的配置文件中。
```
swatch [-A <分隔字符>][-c <设置文件>][-f <记录文件>][-I <分隔字符>][-P <分隔字符>][-r <时间>][-t <记录文件>]
```
-   -A<分隔字符> 　预设配置文件中，动作的分隔字符，预设为逗号。
-   -c<设置文件> 　指定配置文件，而不使用预设的配置文件。
-   -f<记录文件> 　检查指定的记录文件，检查完毕后不会继续监控该记录文件。
-   -I<分隔字符> 　指定输入记录的分隔字符，预设为换行字符。
-   -P<分隔字符> 　指定配置文件中，事件的分隔字符，预设为逗号。
-   -r<时间> 　在指定的时间重新启动。
-   -t<记录文件> 　检查指定的记录文件，并且会监控加入记录文件中的后继记录。
eg
```
swatch
```

### top
用于实时显示 process 的动态。
-   d : 改变显示的更新速度，或是在交谈式指令列( interactive command)按 s
-   q : 没有任何延迟的显示速度，如果使用者是有 superuser 的权限，则 top 将会以最高的优先序执行
-   c : 切换显示模式，共有两种模式，一是只显示执行档的名称，另一种是显示完整的路径与名称S : 累积模式，会将己完成或消失的子行程 ( dead child process ) 的 CPU time 累积起来
-   s : 安全模式，将交谈式指令取消, 避免潜在的危机
-   i : 不显示任何闲置 (idle) 或无用 (zombie) 的行程
-   n : 更新的次数，完成后将会退出 top
-   b : 批次档模式，搭配 "n" 参数一起使用，可以用来将 top 的结果输出到档案内

### reboot
用于用来重新启动计算机。
```
reboot [-n]  [-w]  [-d]  [-f]  [-i]
```
-   -n : 在重开机前不做将记忆体资料写回硬盘的动作
-   -w : 并不会真的重开机，只是把记录写到 /var/log/wtmp 档案里
-   -d : 不把记录写到 /var/log/wtmp 档案里（-n 这个参数包含了 -d）
-   -f : 强迫重开机，不呼叫 shutdown 这个指令
-   -i : 在重开机之前先把所有网络相关的装置先停止

### uname
显示电脑以及操作系统的相关信息。
```
uname [-amnrsv][--help][--version]
```
-   -a或--all 　显示全部的信息。
-   -m或--machine 　显示电脑类型。
-   -n或-nodename 　显示在网络上的主机名称。
-   -r或--release 　显示操作系统的发行编号。
-   -s或--sysname 　显示操作系统名称。
-   -v 　显示操作系统的版本。
-   --help 　显示帮助。
-   --version 　显示版本信息。

### free
会显示内存的使用情况，包括实体内存，虚拟的交换文件内存，共享内存区段，以及系统核心使用的缓冲区等
```
free [-bkmotV][-s <间隔秒数>]
```
-   -b 　以Byte为单位显示内存使用情况。
-   -k 　以KB为单位显示内存使用情况。
-   -m 　以MB为单位显示内存使用情况。
-   -h 　以合适的单位显示内存使用情况，最大为三位数，自动计算对应的单位值。单位有：B = bytes  K = kilos M = megas G = gigas	T = teras
-   -o 　不显示缓冲区调节列。
-   -s<间隔秒数> 　持续观察内存使用状况。
-   -t 　显示内存总和列。
-   -V 　显示版本信息。
eg:
```
free -s 10
```





